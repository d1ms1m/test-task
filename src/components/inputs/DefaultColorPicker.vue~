<template>
  <div class="input__wrapper">
    <label class="label">{{label}}</label>
    <select id="dropdown" class="input" name="colors" size="3">
      <option value="#4BC0C0" selected>Зеленый</option>
      <option value="#FF6384">Красный</option>
      <option value="#FFCD56">Желтый</option>
    </select>
  </div>
  <color-picker
    v-model="color"
    mode="solid"
    :showColorList="false"
    type="RGBA"
    :theme="theme"
  />
</template>

<script setup lang="ts">
import { Vue3ColorPicker as ColorPicker} from '@cyhnkckali/vue3-color-picker'

import { onMounted, ref } from 'vue'
import type { Theme } from '@cyhnkckali/vue3-color-picker/dist/core/types/types'

const props = withDefaults(defineProps<{
  label?: string,
}>(), {
  label: 'Цвет',
})


const color = ref('')
const theme = ref<Theme>('dark')

onMounted(() =>{
  if (window.matchMedia && !window.matchMedia('(prefers-color-scheme: dark)').matches) {
    theme.value = 'light'
  }
})
</script>

<style lang="scss" scoped>
@import "styles.scss";

.ck-cp-container {
  width: 100%;
}
</style>
